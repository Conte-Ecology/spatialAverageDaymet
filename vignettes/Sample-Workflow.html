<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=9" >

<title>Sample Workflow for the zonalDaymet Package</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>




</head>

<body>
<h1>Sample Workflow for the zonalDaymet Package</h1>

<p>This Vignette serves as an example workflow of the <code>zonalDaymet</code> package functions.
Hydrologic catchment polygons are used as the zones over which to spatially average the climate records. 
Functions not in this package are preceded by their package source and a &ldquo;::&rdquo;. Functions
in the <code>zonalDaymet</code> package are referred to directly. </p>

<h2>Load Libraries</h2>

<p>The <code>devtools</code> package is used to load the <code>zonalDaymet</code> package from GitHub.
The <code>maptools</code> and <code>sp</code> packages are used to load and process the spatial objects.</p>

<pre><code class="r">library(devtools)
library(maptools)
library(sp)

install_github(&quot;Conte-Ecology/zonalDaymet&quot;)
library(zonalDaymet)
</code></pre>

<h2>Download Daymet Mosaic Files</h2>

<p>The <code>downloadMosaic</code> function connects to the THREDDS server used by Daymet to
make the mosaic netCDF files avilable. Individual files are downloaded by specifying
the years and variables to download as well as the file destination directory.
There is also an option to retry failed downloads that become corrupted. This is 
a possibility if the connection is lost during the download. A progress bar will 
appear during the download as well as messages describing the existence of downloaded 
netCDF files and if any are corrupt.</p>

<pre><code class="r">downloadMosaic(years = 2008:2009,
                variables = c(&quot;tmin&quot;, &quot;prcp&quot;),
                destinationDirectory = &quot;C:/CLIMATE/daymet/raw&quot;,
                retryFailedDownloads = TRUE)
</code></pre>

<h2>Spatial Data Processing</h2>

<p>The <code>maptools</code> package is used to load the spatial polygons layer. 
The shapefile should already be projected into the same coordinate system 
as the <a href="http://daymet.ornl.gov/datasupport.html">Daymet Projection</a>. The 
projection argument mathces the PROJ.4 documentation for the Daymet spatial 
reference, which is in the Lambert Conformal Conic system.</p>

<pre><code class="r">zonesShapefile &lt;- maptools::readShapePoly(&quot;C:/CLIMATE/daymet/spatial/Catchments01_Daymet.shp&quot;, 
                                            proj4string = CRS(&quot;+proj=lcc +ellps=WGS84 +datum=WGS84 +lat_1=25 +lat_2=60 +lat_0=42.5 +lon_0=-100 +x_0=0 +y_0=0&quot;))
</code></pre>

<p>The spatial object is transformed into the geographic coordinate system
using the <code>sp</code> package. This step ensures that the units are in degrees, 
making the object comparable to the coordinates provided by Daymet NetCDFs
in the World Geodetic System (WGS_84).</p>

<pre><code class="r">transformShapefile &lt;- sp::spTransform(zonesShapefile,
                                        CRS(&quot;+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs +towgs84=0,0,0&quot;),
                                        class = &quot;SpatialPolygonsDataFrame&quot;)
</code></pre>

<p>The transformed spatial object is split into segments using the
<code>tileShapefile</code> function. This step is helpful with processing large and 
complex spatial objects that will likely exceed memory limitations if not 
broken into segments. Currently, the tile size options are 1 x 1 and 2 x 2 degrees.</p>

<pre><code class="r">tiledShapefile &lt;- tileShapefile(shapefile = transformShapefile,
                                tileDegree = 1)
</code></pre>

<p>In this example, a single tile of catchments over Cape Cod will be selected and processed.</p>

<pre><code class="r">zonesPolygon &lt;- tiledShapefile[[5]]

plot(zonesPolygon)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-6"/> </p>

<h2>Climate Record Processing: Spatial Polygons</h2>

<p>With the Daymet mosaics downloaded and the spatial objects loaded into R, the zonalDaymet
functions are used to process the climate records. The <code>assignZonalRecordsToDatabase</code> 
function spatially maps the Daymet records to each polygon. Multiple records falling
inside the polygon get averaged to output a single record. If no points fall inside the polygon, 
the nearest point is assigned. The function iterates through netCDF files based on
the specified variables and years to process. Results are written to a SQLite database.
If the database does not exist, it is created automatically.</p>

<pre><code class="r">assignZonalRecordsToDatabase(zonesShapefile = zonesPolygon,
                              zoneField = &quot;FEATUREID&quot;,
                              zoneFieldType = &quot;integer&quot;,
                              mosaicDirectory = &quot;C:/CLIMATE/daymet/raw&quot;,
                              variables = c(&quot;tmin&quot;, &quot;prcp&quot;), 
                              years = 2008:2009,
                              databaseFilePath = &quot;C:/CLIMATE/daymet/databases/exampleDatabase&quot;, 
                              databaseTableName = &quot;climateRecord&quot;)
</code></pre>

<pre><code>## [1] &quot;Database already exists. Processed records will be added to existing database.&quot;
## [1] &quot;Determining spatial relationships between Daymet NetCDF grid and shapefile.&quot;
## [1] &quot;Spatial relationships complete.&quot;
## [1] &quot;Spatially averaging &#39;tmin&#39; records in 2008.&quot;
## [1] &quot;Averaging complete&quot;
## [1] &quot;Spatially averaging &#39;prcp&#39; records in 2008.&quot;
## [1] &quot;Averaging complete&quot;
## [1] &quot;Done writing results into database for 2008. Elapsed time: 0.8645 minutes.&quot;
## [1] &quot;Spatially averaging &#39;tmin&#39; records in 2009.&quot;
## [1] &quot;Averaging complete&quot;
## [1] &quot;Spatially averaging &#39;prcp&#39; records in 2009.&quot;
## [1] &quot;Averaging complete&quot;
## [1] &quot;Done writing results into database for 2009. Elapsed time: 0.806999999999999 minutes.&quot;
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<p>The <code>returnZonalRecordsFromDatabase</code> accesses a database and returns records based
on specified dates and variables. Two of the polygons are selected as an example of
how this function works.</p>

<pre><code class="r">zones &lt;- unique(zonesPolygon@data$FEATUREID)[1:2]

exampleZoneDB &lt;- returnZonalRecordsFromDatabase(databaseFilePath = &quot;C:/CLIMATE/daymet/databases/exampleDatabase&quot;, 
                                                databaseTableName = &quot;climateRecord&quot;,
                                                zoneField = &quot;FEATUREID&quot;,
                                                startDate = &quot;2008-10-01&quot;,
                                                endDate = &quot;2008-12-31&quot;,
                                                zoneIDs = zones,
                                                variables = c(&quot;tmin&quot;, &quot;prcp&quot;))

head(exampleZoneDB)
</code></pre>

<pre><code>## Source: local data frame [6 x 4]
## 
##   FEATUREID       Date   tmin  prcp
##       (int)      (chr)  (dbl) (dbl)
## 1 201479749 2008-10-01 14.000  5.00
## 2 201479749 2008-10-02 14.875  8.75
## 3 201479749 2008-10-03  8.500  3.00
## 4 201479749 2008-10-04  8.500  0.00
## 5 201479749 2008-10-05  5.500  0.00
## 6 201479749 2008-10-06  7.500  0.00
</code></pre>

<p>The <code>assignZonalRecordsToDataframe</code> function works the same as <code>assignZonalRecordsToDatabase</code>, 
except that it writes the results to a dataframe in the R workspace. Options to specify the 
records are the same, which means that care must be taken to ensure that the output will not 
exceed memory limitations.</p>

<pre><code class="r">exampleZoneDF &lt;- assignZonalRecordsToDataframe(zonesShapefile = zonesPolygon,
                                                zoneField = &quot;FEATUREID&quot;,
                                                mosaicDirectory = &quot;C:/CLIMATE/daymet/raw&quot;,
                                                variables = c(&quot;tmin&quot;, &quot;prcp&quot;), 
                                                years = 2008:2009)
</code></pre>

<pre><code>## [1] &quot;Determining spatial relationships between Daymet NetCDF grid and shapefile.&quot;
## [1] &quot;Spatial relationships complete.&quot;
## [1] &quot;Spatially averaging &#39;tmin&#39; records in 2008.&quot;
## [1] &quot;Averaging complete&quot;
## [1] &quot;Spatially averaging &#39;prcp&#39; records in 2008.&quot;
## [1] &quot;Averaging complete&quot;
## [1] &quot;Spatially averaging &#39;tmin&#39; records in 2009.&quot;
## [1] &quot;Averaging complete&quot;
## [1] &quot;Spatially averaging &#39;prcp&#39; records in 2009.&quot;
## [1] &quot;Averaging complete&quot;
</code></pre>

<pre><code class="r">zones &lt;- unique(zonesPolygon@data$FEATUREID)[1:2]

selectZones &lt;- exampleZoneDF[which(exampleZoneDF$FEATUREID %in% zones),]

head(selectZones)
</code></pre>

<pre><code>##      FEATUREID       Date    tmin     prcp
## 1    201479651 2008-01-01  -1.000  0.00000
## 3    201479749 2008-01-01  -1.375  0.00000
## 1463 201479651 2008-01-02  -1.000 13.66667
## 1465 201479749 2008-01-02  -1.250 13.25000
## 2925 201479651 2008-01-03 -10.500  0.00000
## 2927 201479749 2008-01-03 -10.500  0.00000
</code></pre>

<h2>Climate Record Processing: Coordinates</h2>

<p>The <code>returnRecordsByCoordinates</code> function takes user defined boundaries and returns
all of the records that fall within these bounds to a dataframe in the R workspace.
It is important that the start and end dates of the record match with the netCDF
mosaic file. Two output formats are available.</p>

<pre><code class="r">exampleCoordsLong &lt;- returnRecordsByCoordinates(areaExtent = c(-71.0, -70.0, 42.0, 43.0),
                                                  mosaicFile = &quot;C:/CLIMATE/daymet/raw/prcp_2008.nc4&quot;,
                                                  outputFormat = &quot;long&quot;,
                                                  startDate = &quot;2008-01-01&quot;,
                                                  endDate = &quot;2008-01-31&quot;)

exampleCoordsWide &lt;- returnRecordsByCoordinates(areaExtent = c(-71.0, -70.0, 42.0, 43.0),
                                                  mosaicFile = &quot;C:/CLIMATE/daymet/raw/prcp_2008.nc4&quot;,
                                                  outputFormat = &quot;wide&quot;,
                                                  startDate = &quot;2008-01-01&quot;,
                                                  endDate = &quot;2008-01-31&quot;)
</code></pre>

<p>Long format output:</p>

<pre><code class="r">str(exampleCoordsLong)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    425754 obs. of  4 variables:
##  $ Latitude : num  43.2 43.2 43.2 43.2 43.2 ...
##  $ Longitude: num  -70.9 -70.9 -70.8 -70.8 -70.8 ...
##  $ Date     : chr  &quot;2008-01-01&quot; &quot;2008-01-01&quot; &quot;2008-01-01&quot; &quot;2008-01-01&quot; ...
##  $ prcp     : num  8 8 8 8 8 8 8 8 8 8 ...
</code></pre>

<p>Wide format output:</p>

<pre><code class="r">head(exampleCoordsWide)[1:6]
</code></pre>

<pre><code>##   Latitude Longitude 2008-01-01 2008-01-02 2008-01-03 2008-01-04
## 1 43.23231 -70.87121          8         13          0          0
## 2 43.22908 -70.85908          8         13          0          0
## 3 43.22585 -70.84695          8         13          0          0
## 4 43.22261 -70.83482          8         13          0          0
## 5 43.21938 -70.82269          8         13          0          0
## 6 43.21614 -70.81056          8         13          0          0
</code></pre>

</body>

</html>

